<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1.建立揪團</title>

    <script src="./vendors/Vue/vue.js"></script>
    <script src="./vendors/jQuery/js/jquery-3.5.1.js"></script>
    <!-- 字型 -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="./css/join_step1.css" />
    <!-- <link rel="stylesheet" href="./css/step.css" /> -->
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <header id="header"><my-header></my-header></header>
    <!-- ==============header================= -->
    <div class="w-338">
      <!-- ==============進度條================= -->
      <div class="step_box">
        <ul class="step_ball">
          <li>
            <img src="./Images/join_list/step_1_icon.svg" alt="" />
            <h5>1.建立揪團</h5>
          </li>

          <li>
            <img src="./Images/join_list/step_2_icon.svg" alt="" />
            <h5>2.完成開團</h5>
          </li>

          <li>
            <img src="./Images/join_list/step_3_icon.svg" alt="" />
            <h5>3.結帳資訊</h5>
          </li>

          <li>
            <img src="./Images/join_list/step_4_icon.svg" alt="" />
            <h5>4.訂單明細</h5>
          </li>
        </ul>
      </div>
      <!-- ==============進度條================= -->
      <!-- ==============開團資料================= -->

      <form action="" class="group_data" onsubmit="return false">
        <ul>
          <li>
            <label for="name">團名</label>
            <input
              id="name"
              name="name"
              type="text"
              placeholder="請輸入團名"
              class="GroupName"
            />
          </li>
          <li>
            <label for="">截單時間</label>
            <input type="time" class="Atime" id="Atime" />
          </li>
          <li>
            <label for="time">預計送達時間</label>
            <!-- 不知道用哪個input -->
            <input id="data" name="time" type="text" placeholder="" />
          </li>
          <li>
            <label for="goal">目標杯數</label>
            <select name="goal" id="goal">
              <option value="1">--請選擇目標杯數--</option>
              <option value="2">20杯/9折優惠</option>
              <option value="3">30杯/8折優惠</option>
              <option value="4">40杯/7折優惠</option>
              <option value="5">20杯以下-無優惠</option>
            </select>
          </li>
          <li>
            <label for="">取貨地點</label>
            <input type="text" class="address" />
          </li>
        </ul>

        <!-- ==============開團資料================= -->

        <!-- ==============團長飲料================= -->
        <div class="Head_data">
          <div class="group_button">
            <input
              type="button"
              value="上一步"
              class="btn_back"
              onclick="location.href='./join_list.html'"
            />
            <button type="submit" class="btn_go">建立訂單</button>
            <!-- <input type="submit" value="建立訂單" class="btn_go" /> -->
          </div>
        </div>
      </form>
      <!-- ==============團長飲料================= -->
      <div class="oops">
        <h2>Oops</h2>
        <p class="error"></p>
        <img src="./Images/close.svg" alt="" class="ErrorClose" />
      </div>
    </div>

    <!-- ==============footer================= -->
    <footer id="footer"><my-footer></my-footer></footer>
    <script src="./layout/header.vue"></script>
    <script src="./layout/footer.vue"></script>
  </body>

  <script>
    let AddressTime = document.getElementById("Atime"); //收單時間
    let oops = document.querySelector(".oops"); //警告視窗
    let btngo = document.querySelector(".btn_go"); //下一步
    let NAME = document.querySelector(".GroupName"); //團名
    let Goal = document.getElementById("goal"); //目標杯數
    let Address = document.querySelector(".address"); //送貨地址
    let GroupData = document.querySelector(".group_data"); //fomr表單
    let ErrorText = document.querySelector(".error"); //警告視窗
    let text;
    let storage = sessionStorage;
    let DrinkTime =
      // 警告窗關閉
      $(document).ready(function () {
        $(".ErrorClose").click(function () {
          $(".oops").hide();
        });
      });
    // 警告窗關閉

    $("#Atime").blur(function () {
      console.log(AddressTime.value + 30);
    });

    GroupData.addEventListener("submit", function (e) {
      console.log(AddressTime.value);
      if (NAME.value.trim() == "" || NAME.value.trim() == null) {
        text = "請輸入團名";
        ErrorText.innerText = text;
        oops.style.display = "block";
        NAME.placeholder = "請輸入團名!";
        console.log(NAME.placeholder);
        return;
      }
      if (NAME.value.length > 10) {
        text = "不可超過十個字";
        ErrorText.innerText = text;
        oops.style.display = "block";
        NAME.value = "";
        return;
      }
      if (Goal.value == 1) {
        console.log(Goal.value);
        text = "請選擇目標杯數";
        ErrorText.innerText = text;
        oops.style.display = "block";
        return;
      }
      if (Address.value.trim() == "" || Address.value.trim() == null) {
        text = "請輸入地址";
        ErrorText.innerText = text;
        oops.style.display = "block";
        return;
      }
      if (Address.value.length > 30) {
        text = "地址太長";
        ErrorText.innerText = text;
        oops.style.display = "block";
        Address.value = "";
        return;
      }
      //   GroupData.submit();
    });
  </script>
</html>
